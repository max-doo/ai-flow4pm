---
title: "Cursor使用攻略"
description: "Cursor AI 编程 IDE 的使用技巧和最佳实践"
date: 2025-11-26
template: tutorial
tags: ["AI", "产品开发", "Cursor"]
toc: true
cover: "/img/cursor-tutorial/banner.jpeg"
author: "Doo"
series: "AI 产品设计"
order: 2
---

![](/img/cursor-tutorial/mindmap.png)
<br>

> **核心理念**：AI 编程的本质不是让 AI 盲目猜测，而是通过高质量的上下文（Context）和文档（Documentation）来引导 AI。输入质量决定输出质量。

## **第一部分：核心配置文件**

在项目开始前，正确配置以下文件能让 Cursor 更懂你的项目，减少幻觉和错误索引。

1. **`.cursorignore` (排除文件)**

    **作用**：告诉 Cursor 哪些文件不需要索引。避免 AI 学习到错误的过时代码、缓存文件或庞大的依赖库，提高回答准确度并节省 Token。  
    **建议配置内容：**
    ```txt
    # 排除依赖库 (防止 Context 污染)
    node_modules/
    venv/
    .venv/
    target/
    vendor/

    # 排除构建产物
    dist/
    build/
    out/

    # 排除缓存和临时文件
    .cache/
    tmp/
    *.log
    .DS_Store

    # 排除敏感配置或大文件
    *.lock
    package-lock.json
    yarn.lock
    ```

2. **用户规则**
    
    ```markdown
    ## 1. 核心原则：全局思维与最小化影响
    * 全局视角：使用全局视角和思维排查问题，而不是只针对单个问题进行修改。将问题以及文件有可能关联的文件和问题进行统一处理，避免其余问题的产生。
    * 最小化修改：确保修改仅针对问题本身，严禁破坏无关代码或引入新Bug。
    * DRY原则（拒绝重复）：
        * 严禁功能叠加与代码冗余。
        * 修改前先检索现有代码，禁止重复创建已存在的方法或文件。

    ## 2. 流程规范：事前排查与权限控制
    * 根源定位：通过日志和调试工具准确锁定问题根源，拒绝仅修复表面现象。
    * 关联排查：动手前梳理所有关联文件，评估潜在连锁反应。
    * 权限管控：
        * 新建文件必须经我同意，并说明具体原因。
        * 严禁擅自增加非必要的目录或文件。

    ## 3. 编码规范：一致性与维护性
    * 代码注释：编写代码时添加必要的注释，清楚解释关键逻辑、复杂算法及修改原因，最大程度降低理解门槛。
    * 路径规范：所有路径引用必须使用相对路径。
    * 前后端协作：
        * 后端修改必须确保API输入输出格式与前端保持一致。
        * 前端（Vue3）修改需保证组件状态（State）的一致性与可预测性，不影响其他组件。
    * 文档同步：代码变更后，立即更新注释、API文档及README，降低理解成本。

    ## 4. 交付标准：复盘与清理
    * 自我审查：
        * 检查定义与导入语句是否正确。
        * 强制清理：修改完成后，必须复盘并删除所有因修改产生的冗余代码、无效导入及注释。
    * 审查报告：提交修改时，提供简明的审查报告（修改内容、原因、影响范围）。
    * 集成验证：确保代码通过CI/CD流程，支持自动化部署，保证生产环境稳定性。
    ---
    **注：全程保持中文交流。**
    ```

3. **`.cursorrules` (项目规则)**

    **作用**：项目的“宪法”。定义用户规则技术栈、代码风格、目录结构和编码规范。Cursor 会在每次生成代码前自动参考此文件。  
    **位置**：项目根目录 `.cursorrules` 或 `.cursor/rules/project-rules.mdc`  
    **项目规则通用模板 (可复制修改)：**
    ```markdown
    # 项目角色与目标
    你是一个资深全栈工程师，负责 [项目名称] 的开发。该项目旨在 [简述项目目标]。

    # 技术栈 (Tech Stack)
    - **前端**: Vue 3 (Composition API), TypeScript, TailwindCSS, Vite
    - **后端**: Python (FastAPI), Pydantic
    - **数据库**: PostgreSQL, Redis
    - **部署**: Docker, Nginx

    # 编码规范 (Coding Standards)
    1. **TypeScript**: 必须使用严格类型，禁止使用 `any`。
    2. **注释**: 复杂逻辑必须包含中文注释，解释“为什么这样做”而不是“做了什么”。
    3. **错误处理**: 后端 API 必须返回统一的 JSON 格式错误信息。
    4. **组件**: 前端组件应保持原子化，单一职责原则。

    # 目录结构 (Directory Structure)
    - /src/components: 通用 UI 组件
    - /src/views: 页面级组件
    - /server/api: 后端路由
    - /server/services: 业务逻辑层

    # 行为准则
    - 在编写代码前，先思考受影响的模块。
    - 如果现有代码逻辑不清晰，先向我提问，不要盲目修改。
    - 始终保持代码的简洁性 (DRY原则)。
    ```

## **第二部分：文档驱动开发 (Documentation Driven Development)**

> **核心技巧**：不要直接让 Cursor 写代码。先写文档，让 Cursor 完善文档，再根据文档写代码。

1. **项目开发文档 (Project Doc)**

    **用途**：宏观层面的项目说明，让 AI 即使在项目中期接入也能迅速理解全貌。  
    **模板结构**：

    * **项目概述**：背景、目标、解决什么问题。  
    * **技术架构**：详细列出使用的库和版本。  
    * **环境配置**：如何启动项目（`npm run dev` 等）。  
    * **目录说明**：关键文件夹的作用。  
    * **功能开发文档 (Feature Doc) \- 最重要的一步**

2. **功能开发文档 (Feature Doc) - 最重要的一步**
    
    **用途**：针对具体功能（如“用户登录”）的详细设计。  
    **操作流程**：

    1. **草拟**：你写出大概思路（哪怕是乱的）。  
    2. **AI 完善**：发送给 Cursor，提示词：“*作为架构师，请阅读我的功能思路，帮我完善成一份详细的开发文档，包含接口定义、数据结构、边缘情况处理，并指出我可能遗漏的逻辑漏洞。*”  
    3. **确认**：人工确认文档无误。  
    4. **生成**：让 Cursor 根据这份文档编写代码。

    **功能文档模板**：

    ```markdown
    ## 功能：用户注册与登录

    ### 1. 功能描述
    用户可以通过邮箱注册，并通过 JWT 令牌进行登录认证。

    ### 2. 用户流程 (User Flow)
    1. 用户输入邮箱、密码。
    2. 前端校验格式。
    3. 调用注册 API。
    4. 成功后跳转登录页。

    ### 3. 数据结构 (Schema)
    - User 表: id, email (unique), password_hash, created_at

    ### 4. 接口定义 (API)
    - POST /api/auth/register: 接收 {email, password}
    - POST /api/auth/login: 接收 {email, password}, 返回 {token}

    ### 5. 边缘情况 (Edge Cases)
    - 邮箱已存在：返回 409 错误。
    - 密码过短：前端提示需大于 8 位。
    ```

## **第三部分：黄金提示词**

> 在 Cursor 中，"怎么问"比"问什么"更重要。

1. **启动开发提示词 (Start Prompts)**

    当你要开始写代码时，先甩出这个提示词，防止 AI 瞎写：  
    **"请阅读 `project-rules.mdc` 和 `feature-login.md`。在开始编写代码之前，请先向我复述你对任务的理解，并列出你计划修改的文件列表。如果有任何不清楚的地方，请现在问我。"**

2. **调试与报错提示词 (Debug Prompts)**

    当遇到 Bug 时，不要只丢错误日志，使用 **1-2-3-4 分析法**：  
    "遇到报错：\[粘贴错误信息\]。请按照以下步骤分析：

    1. **问题描述**：用通俗语言解释发生了什么错误。  
    2. **原因分析**：结合当前代码上下文，分析可能的原因。  
    3. **解决方案**：给出 2-3 种可能的解决思路。  
    4. **代码修复**：选择最优方案，给出修改后的代码，并解释每一行修改的理由。"  
    5. **探索工具提示词 (Meta Prompts)**：如果你不知道 Cursor 能干什么，可以问它自己：
    
    **“请列出你目前可以使用的所有内置工具（如 read\_file, grep\_search 等），并解释在什么场景下我应该让你使用哪个工具来辅助开发。”**

## **第四部分：高阶技巧与 MCP**

1. **MCP (Model Context Protocol)**

    **概念：** 让 Cursor 连接外部世界（如 GitHub、Linear、本地数据库）。  
    **场景示例：**

    * **阅读开源项目**：使用 GitHub MCP，输入仓库 URL，让 Cursor 直接读取开源项目的 README 和核心代码，快速理解其架构。  
    * **操作**：  
        1. 在 Cursor 设置中添加 GitHub MCP。  
        2. 提示词："@GitHub 请读取 \[仓库地址\] 的代码，帮我解释它是如何实现 \[某功能\] 的，并生成一份技术总结文档。"  
2. **善用@符号**  
    * **@Files**: 精准引用文件（不要让 AI 猜你在改哪个文件）。  
    * **@Docs**: 引用第三方文档（Cursor 内置了常用库文档，如 React, Vue 等）。  
    * **@Web**: 强行联网搜索最新信息。

## **总结：Cursor 开发习惯养成**

- **文件先行**：配置好 `.cursorignore` 和 `.cursorrules`。  
- **文档驱动**：动手写代码前，先写 Markdown 文档，让 AI 帮你想清楚。  
- **明确意图**：提示词要包含“背景、目标、约束条件”。  
- **保持对话**：把 AI 当作同事，让它“先提问，后干活”。
------------------------
参考来源：[B站视频](https://www.bilibili.com/video/BV1SBjazeEb3/?spm_id_from=333.1387.favlist.content.click&vd_source=95bd646b36fea8d468ab7c5836689fab)